using System;using System.Collections;using System.Collections.Generic;using System.Linq;using UnityEngine;using KModkit;public class BamboozlingTalk : MonoBehaviour {public KMBombInfo Bomb;public KMAudio Audio;public KMSelectable button;public TextMesh Weed;int sugma = 75255;static int moduleIdCounter = 1;int moduleId;private bool moduleSolved;void Awake () {moduleId = moduleIdCounter++;button.OnInteract += delegate () { PressButton(); return false; };}void Start () {sugma = UnityEngine.Random.Range(0,122);Weed.text = BoozleTalkElFunne.Phrases[sugma];Debug.LogFormat("[BoozleTalk #{0}] The phrase is: \"{1}\". Submit when the last digit of the time is {2}.", moduleId,BoozleTalkElFunne.Phrases[sugma],sugma % 10);}void PressButton (){button.AddInteractionPunch();GetComponent<KMAudio>().PlayGameSoundAtTransform(KMSoundOverride.SoundEffect.ButtonPress, button.transform);if (sugma % 10 == Math.Floor(Bomb.GetTime()) % 10) {GetComponent<KMBombModule>().HandlePass();Audio.PlaySoundAtTransform("BoozleBitch", transform);Debug.LogFormat("[BoozleTalk #{0}] You submitted on {1}. Module disarmed.", moduleId, Math.Floor(Bomb.GetTime()) % 10);Weed.text = "BOOZLETALK";}else {GetComponent<KMBombModule>().HandleStrike();Debug.LogFormat("[BoozleTalk #{0}] You submitted on {1}. Strike fat lard.", moduleId, Math.Floor(Bomb.GetTime()) % 10);}}}
